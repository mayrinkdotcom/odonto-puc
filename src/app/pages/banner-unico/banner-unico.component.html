<app-header></app-header>
<app-navbar></app-navbar>
<button *ngIf="user?.tipoUsuario !== 'aluno'" class="btn mx-5"  (click)="Excluir()">Excluir Post</button>
<button class="btn mx-5" (click)="backTo(post.categoryId)">Voltar</button>
<div class="d-flex flex-column align-items-center mt-5" *ngIf="post && file">
    <h1>{{ post.title }}</h1>
    <h3 *ngIf = post.descricao>{{ post.descricao}}</h3>
    <p>Publicado por: {{post.tbuser.nome}} </p>
    <p>Data de criação: {{date}}</p>    
    <div *ngIf="file">
        <div *ngIf="file.type == 'image/png' || file.type == 'image/jpg' || file.type == 'image/jpeg'">
            <img src="https://odonto-puc-nodejs.herokuapp.com/files/posts/{{post.id}}">
        </div>
        <div class="d-flex flex-column align-items-center" *ngIf="file.type == 'application/pdf'">
            <button class="btn" (click)="goTo()">Baixar pdf</button>
            <pdf-viewer *ngIf=pdfSrc [src]="pdfSrc" [render-text]="true" [original-size]="false" [zoom]="1.0"
                style="width: 800px; height: 500px;"></pdf-viewer>
        </div>
        <div class="d-flex flex-column align-items-center"
            *ngIf="file.type != 'application/pdf' && file.type != 'image/png' && file.type != 'image/jpg' && file.type != 'image/jpeg'">
            <div class="alert alert-secondary" role="alert">
                Extensão não reconhecida. Fazer download para visualização
            </div>
            <button class="btn" (click)="goTo()">Baixar arquivo</button>
        </div>
    </div>
    
</div>